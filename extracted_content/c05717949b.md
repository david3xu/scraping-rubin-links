Skip to content

## Navigation Menu

Toggle navigation

Sign in 

  * Product 

    * Actions

Automate any workflow 

    * Packages

Host and manage packages 

    * Security

Find and fix vulnerabilities 

    * Codespaces

Instant dev environments 

    * GitHub Copilot

Write better code with AI 

    * Code review

Manage code changes 

    * Issues

Plan and track work 

    * Discussions

Collaborate outside of code 

Explore
    * All features 
    * Documentation 
    * GitHub Skills 
    * Blog 

  * Solutions 

By size
    * Enterprise 
    * Teams 
    * Startups 

By industry
    * Healthcare 
    * Financial services 
    * Manufacturing 

By use case
    * CI/CD & Automation 
    * DevOps 
    * DevSecOps 

  * Resources 

Topics
    * AI 
    * DevOps 
    * Security 
    * Software Development 

Explore
    * Learning Pathways 
    * White papers, Ebooks, Webinars 
    * Customer Stories 
    * Partners 

  * Open Source 

    * GitHub Sponsors

Fund open source developers 

    * The ReadME Project

GitHub community articles 

Repositories
    * Topics 
    * Trending 
    * Collections 

  * Enterprise 

    * Enterprise platform

AI-powered developer platform 

Available add-ons
    * Advanced Security

Enterprise-grade security features 

    * GitHub Copilot

Enterprise-grade AI features 

    * Premium Support

Enterprise-grade 24/7 support 

  * Pricing



Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search 

Clear




Search syntax tips 

#  Provide feedback 

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

Cancel  Submit feedback 

#  Saved searches 

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our documentation. 

Cancel  Create saved search 

Sign in 

Sign up  Reseting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

{{ message }}

rubin-dp0  / **tutorial-notebooks ** Public

  * Notifications  You must be signed in to change notification settings
  * Fork 16
  * Star  31




  * Code
  * Issues 0
  * Pull requests 2
  * Actions
  * Projects 0
  * Security
  * Insights



Additional navigation options

  * Code 
  * Issues 
  * Pull requests 
  * Actions 
  * Projects 
  * Security 
  * Insights 



## Commit

Permalink

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

meg's comments 

Browse files Browse the repository at this point in the history

  * Loading branch information



MelissaGraham committed Aug 3, 2023

1 parent 55504cb commit 9b35254

Showing **1 changed file** with **59 additions** and **27 deletions**. 

  * Whitespace
  * Ignore whitespace



  * Split
  * Unified



##  There are no files selected for viewing 

86 changes: 59 additions & 27 deletions  86  DP03_01_Introduction_to_DP03.ipynb

Show comments 

View file  Edit file  Delete file 

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters

Show hidden characters 

Original file line number Diff line number Diff line change  
Expand Up @@ -185,6 +185,17 @@  
"id": "16dbae17-6f9d-4356-941c-3e20498bc804",  
"metadata": {},  
"source": [  
"There are four tables for the 1-year and 10-year simulation: \n",  
"`MPCORB`, `SSObject`, `SSSource`, and `DiaSource`.\n",  
"\n",  
"Find descriptions of the tables and their schema, plus\n",  
"information and advice about accessing and querying the DP0.3 tables\n",  
"(including which columns are <a href=\"https://dp0-3.lsst.io/data-products-dp0-3/table-access-and-queries.html#unpopulated-columns\">currently unpopulated</a>),\n",  
"in the <a href=\"https://dp0-3.lsst.io/data-products-dp0-3/index.html#dp0-3-data-products-definition-document-dpdd\">DP0.3 data products definitions documentation </a>.\n",  
"\n",  
"This tutorial will explore the tables individually, with table joins to be\n",  
"demonstrated in future tutorials (see also <a href=\"https://dp0-3.lsst.io/data-products-dp0-3/table-access-and-queries.html#table-joins\">this advice on DP0.3 table joins</a>).\n",  
"\n",  
"Select all available tables and display information about them."  
]  
},  
Expand Down Expand Up @@ -223,7 +234,7 @@  
"\n",  
"> **Notice:** The MPC contains all reported moving objects in the Solar System, and is not limited to those detected by LSST. Thus, the `MPCORB` table will have more rows than the `SSObject` table.\n",  
"\n",  
"> **Notice:** For DP0.3, the MPC did not actually recompute orbital elements by incorporating on the simulated LSST data, but rather vice versa: LSST observations were simulated based on the MPC's orbital elements. Thus, the `MPCORB` table can be considered a truth table.\n",  
"> **Notice:** For DP0.3, there was no fitting done by the MPC and the MPCORB table is the orbital elements used in the simulation (the `MPCORB` table is a truth table).\n",  
"\n",  
"For more information about Rubin's plans for Solar System Processing, see Section 3.2.2 of the \n",  
"<a href=\"https://docushare.lsstcorp.org/docushare/dsweb/Get/LSE-163/LSE-163_DataProductsDefinitionDocumentDPDD.pdf\">Data Products Definitions Document</a>.\n",  
Expand Down Expand Up @@ -472,7 +483,7 @@  
"id": "b4a18142-d555-4cba-a499-b80902ba4a2e",  
"metadata": {},  
"source": [  
"**Optional:** use the `pandas` fuction `describe` to display population distribution information for the \n",  
"**Optional:** use the `pandas` fuction `describe` to display statistics for the \n",  
"numerical columns in the dataframe (count, mean, standard deviation, etc.)."  
]  
},  
Expand All @@ -493,11 +504,12 @@  
"id": "9721c47c-6302-4e0c-8d38-3825ff86266c",  
"metadata": {},  
"source": [  
"### 3.4. Plot histograms of orbital elements\n",  
"### 3.4. Plot histograms of selected columns\n",  
"\n",  
"Wikipedia provides a decent <a href=\"https://en.wikipedia.org/wiki/Orbital_elements\">beginner-level guide to orbital elements</a>.\n",  
"\n",  
"For a quick reference, distributions are shown below for six key orbital elements."  
"For a quick reference, distributions are shown below for five key orbital elements\n",  
"and the absolute $H$ magnitude (see Section 4.4 for a description of $H$)."  
]  
},  
{  
Expand Down Expand Up @@ -528,7 +540,7 @@  
"ax[1, 1].set_ylabel('Number')\n",  
"ax[1, 1].set_ylim(0,3500)\n",  
"ax[1, 2].hist(df['q'], bins=100, log=True)\n",  
"ax[1, 2].set_xlabel('Perihelion Distance (AU)')\n",  
"ax[1, 2].set_xlabel('Perihelion Distance (au)')\n",  
"ax[1, 2].set_ylabel('log(Number)')\n",  
"fig.suptitle('Histograms for Key Orbital Elements')\n",  
"fig.tight_layout()\n",  
Expand Down Expand Up @@ -737,7 +749,7 @@  
"id": "00180672-d7d6-40df-9d85-c51bb298dce6",  
"metadata": {},  
"source": [  
"For Solar System objects, absolute magnitudes are defined to be for an object 1 AU from the Sun and 1 AU \n",  
"For Solar System objects, absolute magnitudes are defined to be for an object 1 au from the Sun and 1 au \n",  
"from the observer, and at a phase angle (the angle Sun-object-Earth) of 0 degrees.\n",  
"\n",  
"Absolute magnitudes are derived by correcting for distance, fitting a function to the relationship between \n",  
Expand Down Expand Up @@ -809,7 +821,7 @@  
"id": "653f251d-a172-4cda-b3c5-0aeecf28d8e6",  
"metadata": {},  
"source": [  
"There are basically only two main populations of colors in the simulation - but this is not the case for real Solar System objects. These plots will look very different in the future, when they are made with real Rubin data."  
"There are two colors used in the simulation - but this is not the case for real Solar System objects. These plots will look very different in the future, when they are made with real Rubin data."  
]  
},  
{  
Expand Down Expand Up @@ -891,7 +903,7 @@  
"source": [  
"### 5.3. Retrieve data for one `SSObject`\n",  
"\n",  
"It is possible to obtain the `SSSource` data for a population of `SSObjects`.\n",  
"It is possible to obtain the `SSSource` data for a set of `SSObjects`.\n",  
"For example, to retrieve all `SSSources` for the `SSObjects` retrieved in Section 4,\n",  
"use a query such as: \n",  
"\n",  
Expand Down Expand Up @@ -972,18 +984,23 @@  
"id": "11c32da4-7632-4ca0-8e51-c3ae130bde77",  
"metadata": {},  
"source": [  
"### 5.3. Plot the orbit of one `SSObject`\n",  
"### 5.3. Plot the locations of one `SSObject`\n",  
"\n",  
"Plot the orbit using the X and Y heliocentric (Sun-centered; orange star) \n",  
"Plot the locations of the selected `SSObject` at the time of every \n",  
"LSST observation using the X and Y heliocentric (Sun-centered; orange star) \n",  
"and topocentric (observatory-centered; blue circle) coordinates.\n",  
"This is a projection of the orbit into the plane of the Solar System.\n",  
"This can be considered a projection of the orbit into the plane of the Solar System.\n",  
"\n",  
"Notice how the points are not regularly spaced.\n",  
"This is because there is one point per LSST observation of the object,\n",  
"and in some years it receives more or fewer observations.\n",  
"\n",  
"Notice how the points appear in an ellipse around the Sun with heliocentric coordinates (left).\n",  
"This is as it should be, as the object orbits the sun.\n",  
"This is because the selected object is in the main asteroid belt and close enough to the Sun \n",  
"to complete at least on orbit during the 10-year LSST survey.\n",  
"Had the selected object been in the outer Solar System, or were this tutorial using\n",  
"the 1-year data set, the plot below would show an arc instead of an ellipse.\n",  
"\n",  
"The plot of the topocentric coordinates (right) does not appear elliptical because\n",  
"the motion of the Earth with respect to the object over the 10 years of the LSST\n",  
"is imprinted into the data. \n",  
Expand All @@ -1005,15 +1022,15 @@  
"ax[0].plot(df_xy['heliocentricX'], df_xy['heliocentricY'],\n",  
" 'o', ms=4, mew=0, color='black')\n",  
"ax[0].plot(0, 0, '*', ms=15, color='darkorange')\n",  
"ax[0].set_xlabel('heliocentric X (AU)')\n",  
"ax[0].set_ylabel('heliocentric Y (AU)')\n",  
"ax[0].set_xlabel('heliocentric X (au)')\n",  
"ax[0].set_ylabel('heliocentric Y (au)')\n",  
"ax[0].set_title('Heliocentric Coordinates')\n",  
"ax[1].grid()\n",  
"ax[1].plot(df_xy['topocentricX'], df_xy['topocentricY'],\n",  
" 'o', ms=4, mew=0, color='black')\n",  
"ax[1].plot(0, 0, 'o', ms=15, color='dodgerblue')\n",  
"ax[1].set_xlabel('topocentric X (AU)')\n",  
"ax[1].set_ylabel('topocentric Y (AU)')\n",  
"ax[1].set_xlabel('topocentric X (au)')\n",  
"ax[1].set_ylabel('topocentric Y (au)')\n",  
"ax[1].set_title('Topocentric Coordinates')\n",  
"fig.suptitle('XY Path of 6793512588511170680')\n",  
"fig.tight_layout()\n",  
Expand Down Expand Up @@ -1100,7 +1117,7 @@  
"source": [  
"### 6.3. Retrieve data for one `SSObject`\n",  
"\n",  
"Similar to what we did for `SSSource` data in Section 5, it is possible to obtain the `DiaSource` data for a population of `SSObjects`. For example, to retrieve all `DiaSources` for the `SSObjects` retrieved in Section 4,\n",  
"Similar to what we did for `SSSource` data in Section 5, it is possible to obtain the `DiaSource` data for a set of `SSObjects`. For example, to retrieve all `DiaSources` for the `SSObjects` retrieved in Section 4,\n",  
"use a query such as: \n",  
"\n",  
"```\n",  
Expand All @@ -1123,7 +1140,7 @@  
},  
"outputs": [],  
"source": [  
"results = service.search(\"SELECT ra, dec, mag, band, midpointMjdTai \"\n",  
"results = service.search(\"SELECT ra, dec, midpointMjdTai \"\n",  
" \"FROM dp03_catalogs_10yr.DiaSource \"\n",  
" \"WHERE ssObjectId = 6793512588511170680\")\n",  
"df = results.to_table().to_pandas()\n",  
Expand All @@ -1141,7 +1158,7 @@  
"Here, we plot the equatorial coordinates for all observations, colored by the MJD of the observation.\n",  
"\n",  
"This plot shows the location of the object on the sky, as seen from Earth.\n",  
"Recall from the plots in Section 5 that this object is only about 2 AU from the Sun,\n",  
"Recall from the plots in Section 5 that this object is only about 2 au from the Sun,\n",  
"and so is at the inner edge of the Main Asteroid Belt.\n",  
"Parallax from the Earth's orbit contributes to the appearance of this plot."  
]  
Expand Down Expand Up @@ -1191,19 +1208,34 @@  
"id": "27380304-2669-4e14-ba81-f57fd072ebd9",  
"metadata": {},  
"source": [  
"**1. Which moving objects in the MPC did LSST not detect?**\n",  
"**1. Calculate the semi-major axis for a subset of objects.**\n",  
"\n",  
"The orbital element of semi-major axis ($a$) is not pre-computed in the `MPCORB` table\n",  
"because it can be derived from the orbit’s ellipticiy ($e$) and perihelion distance ($q$)\n",  
"with $a = q/(1-e)$.\n",  
"\n",  
"The `MPCORB` table contains all of the moving objects ever reported to the MPC,\n",  
"whereas the `SSObject` table contains all of the moving objects detected by LSST.\n",  
"Which populations of moving objects does LSST not detect?\n",  
"Copy the query from Section 3.3 and alter it to retrieve only $e$ and $q$ for a subset of objects.\n",  
"Then add a column to the results table for semi-major axis and plot eccentricity \n",  
"versus semi-major axis.\n",  
"\n",  
"Hints:\n",  
" 1\. Restrict the query to objects with eccentricities between 0 and 1.\n",  
" 2\. `df['a'] = df['q'] / (1.0 - df['e'])`"  
]  
},  
{  
"cell_type": "markdown",  
"id": "6822d11e-b160-472b-972a-cb5d16f9be5c",  
"metadata": {},  
"source": [  
"**2. How does an SSObject's magnitude change with time?**\n",  
"\n",  
"In Section 6.4, the magnitude and filter for all detections of the `SSObject` in the\n",  
"`DiaSource` table were retrieved, but not plotted, so make that plot.\n",  
"Note that the only simulated cause of photometric changes in DP0.3 objects is the phase curve,\n",  
"and so magnitude vs. phase is the more interesting and useful plot to make.\n",  
"Phase curves are covered in another tutorial."  
"`DiaSource` table were not retrieved; alter the query to retrieve `mag` and `band`,\n",  
"and plot the magnitude as a function of time for the filter of your choice\n",  
"(recall: there will be no *u*- or *y*-band magnitudes).\n",  
"Note that the only simulated cause of photometric changes in DP0.3 objects is the distance from Earth and the phase curve.\n",  
"Correcting for distance, and the applications phase curves, are covered in another tutorial."  
]  
}  
],  
Expand Down  
  
Toggle all file notes Toggle all file annotations

###  0 comments on commit `9b35254`

Please sign in to comment. 

## Footer

© 2024 GitHub, Inc. 

### Footer navigation

  * Terms
  * Privacy
  * Security
  * Status
  * Docs
  * Contact
  * Manage cookies 
  * Do not share my personal information 



You can’t perform that action at this time. 
